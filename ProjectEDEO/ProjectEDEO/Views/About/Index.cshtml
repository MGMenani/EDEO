@model Project_EDEO.Models.Contact

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/About/_Layout_Landing.cshtml";
}

@Styles.Render("~/Content/dropzone-css")
<link rel="stylesheet" href="~/assets/css/lib/chosen/chosen.min.css">

<!-- Hero section start -->
<section class="hero-section">
    <div class="hero-slider owl-carousel">
        <div class="hs-item set-bg sp-pad" data-setbg="@Url.Content("~/images/hero-slider/2.jpg")">
            <div class="hs-text">
                <h2 class="hs-title">EDEO</h2>
                <p class="hs-des">Un estimador de<br>edad ósea</p>
            </div>
        </div>
    </div>
</section>
<!-- Hero section end -->
<!-- Intro section start -->
<section class="intro-section sp-pad spad">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xl-4 intro-text">
                <span class="sp-sub-title">Proyecto EDEO</span>
                <h3 class="sp-title">¿Sabía que...</h3>
                <p>... radiólogo puede estimar la edad ósea de un niño observando ciertos patrones en los huesos de la mano usando imágenes de rayos X? Este estudio de la edad ósea es un proceso que se realiza analizando visualmente ciertas zonas de crecimiento en los huesos y se comparan posteriormente con un Atlas estándar de desarrollo óseo.</p>
                <a href="https://kidshealth.org/es/parents/xray-bone-age-esp.html" class="site-btn">Leer más</a>
            </div>
            <div class="col-xl-7 offset-xl-1">
                <figure class="intro-img mt-5 mt-xl-0">
                    <img src="~/images/intro.jpg" alt="">
                </figure>
            </div>
        </div>
    </div>
</section>
<!-- Intro section end -->
<section class="sp-pad">
    <h1 class="sp-title">Pruebe nuestro estimador</h1>
    <div id="dropzone" class="container-fluid">
        <div class="center-block">
            @using (Html.BeginForm("Estimate", "About", FormMethod.Post, new { @enctype = "multipart/form-data", @class = "dropzone needsclick dz-clickable", @id = "dropzone-form" }))
            {
                <div class="dz-message needsclick">
                    <i class="fa fa-upload fa-5x" aria-hidden="true"></i>
                    <br>
                    <p>Arrastre y suelte una imágen en esta sección</p>
                    <i class="fa fa-camera fa-3x"></i>
                    <br>
                    <p>o presione para seleccionar una imágen del dispositivo.</p>
                </div>
            }
        </div>
    </div>

    <div id="loading" style="display: none;">
        <div class="row align-items-center mb-0">
            <div class="col-12 text-center">
                <img src="~/images/loading.gif" />
                <p>Cargando...</p>
            </div>
        </div>
    </div>

    <div id="results" style="display: none;">
        <div class="row align-items-center mb-0">
            <div id="image" class="col-12 col-md-6 text-center">
                <img src="~/images/logos/logo_black.png" />
            </div>
            <div class="col-12 col-md-5 offset-md-1 text-center text-md-left">
                <h3 class="sp-sub-title">Edad ósea estimada</h3>
                <h1 id="age">0</h1>
                <h3 class="sp-sub-title">meses</h3>
            </div>
        </div>
    </div>
    <p></p>
    <br/>
</section>

<!-- Portfolio section start -->
<section class="portfolio-section">
    <div class="portfolio-warp">
        <!-- single item -->
        <div class="single-portfolio set-bg" data-setbg="@Url.Content("~/images/portfolio/4454.png")">
            <a href="#" class="portfolio-info">
                <div class="pfbg set-bg" data-setbg="@Url.Content("~/images/portfolio/4454.png")"></div>
                <h5>Female hand</h5>
                <p>60 months</br>5 years</p>
            </a>
        </div>
        <!-- single item -->
        <div class="single-portfolio set-bg" data-setbg="@Url.Content("~/images/portfolio/4474.png")">
            <a href="#" class="portfolio-info">
                <div class="pfbg set-bg" data-setbg="@Url.Content("~/images/portfolio/4474.png")"></div>
                <h5>Male hand</h5>
                <p>165 months</br>13 years and 9 months</p>
            </a>
        </div>
        <!-- single item -->
        <div class="single-portfolio set-bg" data-setbg="@Url.Content("~/images/portfolio/4489.png")">
            <a href="#" class="portfolio-info">
                <div class="pfbg set-bg" data-setbg="@Url.Content("~/images/portfolio/4489.png")"></div>
                <h5>Male hand</h5>
                <p>85 months</br>7 years and 1 month</p>
            </a>
        </div>
        <!-- single item -->
        <div class="single-portfolio sm-wide set-bg" data-setbg="@Url.Content("~/images/portfolio/4491.png")">
            <a href="#" class="portfolio-info">
                <div class="pfbg set-bg" data-setbg="@Url.Content("~/images/portfolio/4491.png")"></div>
                <h5>Male hand</h5>
                <p>168 months</br>14 years</p>
            </a>
        </div>
        <!-- single item -->
        <div class="single-portfolio sm-wide set-bg" data-setbg="@Url.Content("~/images/portfolio/4496.png")">
            <a href="#" class="portfolio-info">
                <div class="pfbg set-bg" data-setbg="@Url.Content("~/images/portfolio/4496.png")"></div>
                <h5>Male hand</h5>
                <p>120 months</br>10 years</p>
            </a>
        </div>
        <!-- single item -->
        <div class="single-portfolio set-bg" data-setbg="@Url.Content("~/images/portfolio/4538.png")">
            <a href="#" class="portfolio-info">
                <div class="pfbg set-bg" data-setbg="@Url.Content("~/images/portfolio/4538.png")"></div>
                <h5>Female hand</h5>
                <p>156 months</br>13 years</p>
            </a>
        </div>
        <!-- single item -->
        <div class="single-portfolio sm-wide md-w-100 set-bg" data-setbg="@Url.Content("~/images/portfolio/4549.png")">
            <a href="#" class="portfolio-info">
                <div class="pfbg set-bg" data-setbg="@Url.Content("~/images/portfolio/4549.png")"></div>
                <h5>Female hand</h5>
                <p>106 months</br>8 years and 10 months</p>
            </a>
        </div>
    </div>
    <div class="clearfix"></div>
</section>
<!-- Portfolio section end -->
<!-- Milestones section start -->
<section class="milestones-section spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-6 fact-box">
                <div class="fact-content">
                    <i class="flaticon-laptop"></i>
                    <h2>@ViewBag.EstimationCount</h2>
                    <p>Estimaciones realizadas</p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Milestones section end -->
<!-- Services section start -->
<section class="services-section spad">
    <div class="container-fluid services-warp">
        <div class="services-text">
            <div class="container p-0">
                <span class="sp-sub-title">Proyecto EDEO</span>
                <h3 class="sp-title">Motivación</h3>
                <p>Creamos este proyecto porque queremos ayudar a solventar las necesidades más comúnes en el sector médico.</p>
                <a href="#" class="site-btn">Read More</a>
            </div>
        </div>
        <div class="container p-0">
            <div class="row">
                <div class="col-xl-8 offset-xl-4">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="icon-box">
                                <i class="flaticon-alarm-clock"></i>
                                <h4>El tiempo es valioso</h4>
                                <p>Un especialista puede tardar horas realizando  una estimación de edad ósea. Queremos ofrecer una herramienta que agilice este proceso para que los especialistas puedan decidar tiempo a otros procesos.</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="icon-box">
                                <i class="flaticon-eye"></i>
                                <h4>Estimación visual</h4>
                                <p>Varios especialistas pueden variar en los resultados que dan pues esto es un proceso que tarda años en dominarse. Queremos ofrecer una herramienta consistente que se concentre en los detalles más importantes.</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="icon-box">
                                <i class="flaticon-laptop"></i>
                                <h4>Soporte de desiciones</h4>
                                <p>Creemos que la tecnología es una herramienta que está a favor de las personas. Los especialistas podrán usar la herramienta como soporte para las decisiones que tomen.</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="icon-box">
                                <i class="flaticon-cloud"></i>
                                <h4>Cualquier lugar</h4>
                                <p>Ofrecemos un servicio web que puede ser accedido desde cualquier lugar, a cualquier hora, con cualquier dispositivo con navegador web.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Services section start end -->
<!-- Contact section start -->
<section class="contact-section set-bg spad" data-setbg="@Url.Content("~/images/contact-bg.jpg")">
    <div class="container-fluid contact-warp">
        <div class="contact-text">
            <div class="container p-0">
                <span class="sp-sub-title">Proyecto EDEO</span>
                <h3 class="sp-title">Hable con nosotros</h3>
                <p>Actualmente estamos en proceso de desarrollo. Sientase en la libertdad de contactarnos si desea conocer más sobre el proyecto.</p>

                <ul class="con-info">
                    <li><i class="flaticon-envelope"></i>parma@tec.ac.cr</li>
                    <li><i class="flaticon-placeholder"></i>Instituo Tecnológico de Costa Rica<br> Cartago, Costa Rica</li>
                </ul>
            </div>
        </div>
        <div class="container p-0">
            <div class="row">
                <div class="col-xl-8 offset-xl-4">
                    @using (Html.BeginForm("Email", "About", null, FormMethod.Post, new { @class = "contact-form" }))
                    {
                        @Html.AntiForgeryToken()
                        <div class="row">
                            <div class="col-md-6">
                                @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @type = "text", @placeholder = "Su nombre" } })
                            </div>
                            <div class="col-md-6">
                                @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @type = "email", @placeholder = "E-mail" } })
                            </div>
                            <div class="col-md-12">
                                @Html.EditorFor(model => model.Subject, new { htmlAttributes = new { @type = "text", @placeholder = "Asunto" } })
                                @Html.TextAreaFor(model => model.Message, 10, 80, new { @placeholder = "Mensaje" })
                                <button class="site-btn light">Enviar</button>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Contact section end -->

@section Scripts {
    @Scripts.Render("~/bundles/dropzone")
    <script src="~/assets/js/lib/chosen/chosen.jquery.min.js"></script>
    <script>
        jQuery(document).ready(function () {
            jQuery(".standardSelect").chosen({
                disable_search_threshold: 10,
                no_results_text: "Oops, nothing found!",
                width: "100%"
            });
        });
    </script>
    <script type="text/javascript">
        function displayLoading() {
            $('#dropzone').hide();
            $('#loading').show();
        };

        function showResults(image, age) {
            $('#loading').hide();
            $('#results').show();
            $('#age').html(age);
            $('#image').html('<img src="' + image + '" height="300" />');
        };

        Dropzone.options.dropzoneForm = {
            method: "POST",
            paramName: "file",
            uploadMultiple: false,
            maxFiles: 1,
            maxFilesize: 20,
            capture: "camera",
            acceptedFiles: "image/*",
            dictMaxFilesExceeded: "Solo una imágen por estimación es posible",
            init: function () {
                this.on("sending", function (file) {
                    displayLoading();
                });
                this.on("error", function (file) {
                    $('#results').html("<p>Something went wrong :(</p>");
                });
                this.on("success", function (file, response) {
                    var image = response['image']
                    var age = response['estimation']
                    showResults(image, age);
                    this.removeFile(file);
                });
            }
        };
    </script>
}
